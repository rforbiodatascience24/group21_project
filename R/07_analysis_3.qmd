---
title: "07_analysis_3"
author:
- "Asta Zeuner - s203544 - azeuner"
- "Astrid Ginnerup - s203523 - AGinnerup"
- "Emma Dan√∏ - s203564 - EDanoe"
- "Andrea Kristensen - s193769 - AndreaMTK"
- "Yayi Wang - s243554 - Yayi0117"
html: 
    embed-resources: true
execute: 
  message: FALSE
  warning: FALSE
---

-   make some descriptive plots eg. facet wrap

-   survival vs alcohol and smoking

-   vital_status vs tissue_source_location

-   ethnicity

-   gender overall survival

## **Loading libraries**

```{r}
#| label: "load-libraries" 
#| echo: TRUE
#| eval: TRUE 
#| output: FALSE  
#| 
library("ggplot2")
#library("colorspace")
```

Loading data

```{r}
#| label: "load-data" 

expression_meta_data_aug <- read_tsv(file = here("data/04_expression_meta_data_aug.tsv.gz"))

```

## Plot with gender and overall survival

add absolute numbers

change axis titles from count

```{r}
ggplot(data = expression_meta_data_aug,
       mapping = aes(x = gender,
                     fill = vital_status
                     ))+
  geom_bar(color = "powderblue",
           position = "fill")+
  scale_fill_brewer(palette = "Pastel2")+
   ggtitle("Proportional Vital Status within the two Genders")+
  ggsave("Barplot_VitalStatusGenders")
```

Facet wrap with ethnicity and survival

add absolute values

```{r}
ggplot(data = expression_meta_data_aug,
       mapping = aes(x = gender,
                     fill = vital_status
                     ))+
  geom_bar(color = "powderblue",
           position = "fill"
           )+
  scale_fill_brewer(palette = "Pastel2")+
  facet_wrap(~race)+
  labs(title = "Distribution of Gender and Vital Status Across Races",
          subtitle = "Proportional representation by gender and race") +
  theme(plot.title = element_text(hjust = 0.5),
        plot.subtitle = element_text(hjust = 0.5),
        strip.text = element_text(size = 7, face = "bold"))

```
